
### Vector Search
query Vectorsimple {
  experience_productsVectorDistance(args: {queryVector: "[-0.26627868,0.024454566,-0.12411288,-0.06926076,0.114167295,-0.05908405,-0.11366025,-0.20373131,-0.07778197,-0.13792849,0.024760943,-0.06993264,-0.08388083,-0.062369984,0.048473757,0.024872025,-0.23152019,-0.05411574,0.004388886,-0.21127427,-0.15947516,0.105058424,0.033486396,-0.029446172,-0.2548478,-0.21878138,-0.0880393,0.33248106,0.093399994,-0.20333715,0.30673468,0.114914425,-0.105746426,0.18683583,-0.049713593,0.113479294,0.06528862,-0.0078796055,-0.12683801,-0.2029609,0.17053875,0.03340398,-0.061518937,0.059385054,0.13831548,-0.13800374,-0.0011183274,-0.21415886,0.09237874,-0.107848056]"}) {
    id
    distance
  }
}

query SearchProductsVector {
  experience_productsVectorDistance(args: { queryVector: "[-0.26627868,0.024454566,-0.12411288,-0.06926076,0.114167295,-0.05908405,-0.11366025,-0.20373131,-0.07778197,-0.13792849,0.024760943,-0.06993264,-0.08388083,-0.062369984,0.048473757,0.024872025,-0.23152019,-0.05411574,0.004388886,-0.21127427,-0.15947516,0.105058424,0.033486396,-0.029446172,-0.2548478,-0.21878138,-0.0880393,0.33248106,0.093399994,-0.20333715,0.30673468,0.114914425,-0.105746426,0.18683583,-0.049713593,0.113479294,0.06528862,-0.0078796055,-0.12683801,-0.2029609,0.17053875,0.03340398,-0.061518937,0.059385054,0.13831548,-0.13800374,-0.0011183274,-0.21415886,0.09237874,-0.107848056]" }, limit: 10, order_by: { distance: Asc }) {
    id
    distance
    product {
      name
    }
  }
}

query ProductsPriceVector {
  experience_productsVectorDistance(
    args: { queryVector: "[-0.26627868,0.024454566,-0.12411288,-0.06926076,0.114167295,-0.05908405,-0.11366025,-0.20373131,-0.07778197,-0.13792849,0.024760943,-0.06993264,-0.08388083,-0.062369984,0.048473757,0.024872025,-0.23152019,-0.05411574,0.004388886,-0.21127427,-0.15947516,0.105058424,0.033486396,-0.029446172,-0.2548478,-0.21878138,-0.0880393,0.33248106,0.093399994,-0.20333715,0.30673468,0.114914425,-0.105746426,0.18683583,-0.049713593,0.113479294,0.06528862,-0.0078796055,-0.12683801,-0.2029609,0.17053875,0.03340398,-0.061518937,0.059385054,0.13831548,-0.13800374,-0.0011183274,-0.21415886,0.09237874,-0.107848056]" }
    limit: 10
    order_by: { distance: Asc }
    where: { product: { price: { _gt: 500 } } }
  ) {
    id
    distance
    product {
      name
    }
  }
}


# query PersonalizedRecommendations($userId: ID!) {
#   users_users(id: $userId) {
#     recommendations {
#       basedOnHistory: cartItems(limit: 5, order_by: {createdAt: Desc}) {
#         product {
#           id
#           name
#           price
#           image
#           category {
#             name
#           }
#         }
#       }
#       basedOnPurchases: orders(limit: 5, order_by: {createdAt: Desc}) {
#         product {
#           id
#           name
#           price
#           image
#           similarProducts: vectorDistance(limit: 5, order_by: {distance: Asc}) {
#             product {
#               id
#               name
#             }
#           }
#         }
#       }
#     }
#   }
# }

query MyQuery {
  experience_productsVectorDistance(
    args: {queryVector: "[-0.12062939,0.14187849,-0.1531862,0.22822146,-0.009532988,0.0071340483,-0.07665542,0.118585184,-0.024846593,-0.107871726,0.053799834,0.01564843,-0.22502977,-0.035310797,0.24498546,0.011766871,0.12672856,0.051094495,-0.30687398,-0.12383477,-0.05133007,-0.09563537,0.1964261,0.07656727,-0.091469444,-0.14006226,0.00026369488,0.06717152,-0.03895389,0.0348518,0.36772898,0.21402602,-0.11242977,0.18416086,0.028611274,0.04999108,-0.0075755664,0.27164373,-0.024062349,-0.2761577,0.08008573,-0.093189925,-0.013401476,-0.10698717,0.03589746,0.2864775,-0.008914711,0.027798152,0.033786383,-0.17014779]"}
    order_by: {distance: Asc}
  ) {
    distance
    id
    product {
      name
      reviews(order_by: {createdAt: Asc}) {
        users {
          name
          lastSeen
        }
        text
      }
    }
  }
}